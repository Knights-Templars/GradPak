<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Data Acquisition &mdash; GradPak 1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="GradPak 1.0 documentation" href="index.html" />
    <link rel="next" title="Data Reduction" href="Data_Reduction.html" />
    <link rel="prev" title="The Online GradPak Guide" href="index.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="Data_Reduction.html" title="Data Reduction"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="index.html" title="The Online GradPak Guide"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">GradPak 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="data-acquisition">
<h1>Data Acquisition<a class="headerlink" href="#data-acquisition" title="Permalink to this headline">¶</a></h1>
<p>In this section I will describe some best practices for acquiring GradPak data
that will make your reductions much easier.</p>
<div class="section" id="pre-run-prep">
<h2>Pre-run Prep<a class="headerlink" href="#pre-run-prep" title="Permalink to this headline">¶</a></h2>
<p>One hour of WIYN time costs roughly $1,000. That means over a ten hour night
you are directly responsible for how efficiently $10,000 gets used. As an
Astronomer and a taxpayer I strongly urge you to show up to the telescope very
very prepared to maximize the amount of time WIYN spends soaking up data
photons. To get you started, here is a list of things you absolutely must have
by your first night:</p>
<div class="section" id="cache-pointings">
<h3>Cache/Pointings<a class="headerlink" href="#cache-pointings" title="Permalink to this headline">¶</a></h3>
<p>You probably want to actually put GradPak on an Astronomical object of some
sort. How are you going to do that? You&#8217;ll need a cache file that you give to
your OA. This file contains one line for each thing you want to point to, each
with 4 columns corresponding to <em>name, RA, Dec, Epoch</em>. Here&#8217;s how to find the
coordinates for the entire GradPak IFU:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Open ds9 and grab an image of your object. Then use the
gradpak_w_sky_comp.tpl template file to place the GradPak IFU on your
object in all of the positions you want to observe. If you rotate the IFU
note the angle given in the region information box. Fortunately this angle
is exactly the position angle you will input to WIYN.</li>
<li>Select a fiber in GradPak to be your &#8220;reference&#8221; fiber. I usually use
fiber 105</li>
<li>Find this fiber on IFU template and add circle regions that are perfectly
concentric with the reference fiber. It is very important to get these
centered exactly right because they are what will give you the coordinates
of you IFU pointing. Use the dialog box in ds9 to get the coordinates for
thes circles.</li>
<li>Give each pointing a name and write its information to the chache file.</li>
</ol>
</div></blockquote>
<p>As you might guess, the general idea is that the &#8220;position&#8221; of GradPak will
always be the location of the reference fiber. For this reason we also need
some bright stars to calibrate the offset between the default telescope
pointing and the reference fiber. You should have at least three bring stars
(brightness coming soon) that more-or-less evenly distributed around the
science pointings. Use ds9&#8217;s catalog tools to find these stars and add them to
the cache (call them check1, check2, etc.).</p>
<p>When you&#8217;re all done with this you should have a cache file that looks
something like this:</p>
<div class="highlight-python"><div class="highlight"><pre>#Rotator at 295.787 degrees E of N
# coordinates are for fiber 105
check1        02:23:08.486 +42:25:58.22 2000
check2        02:22:54.082 +42:18:40.28 2000
check3        02:22:21.646 +42:23:47.58 2000
NGC891_P1     02:22:24.819 +42:19:24.58 2000
NGC891_P2     02:22:27.637 +42:20:33.36 2000
NGC891_P3     02:22:32.718 +42:22:45.66 2000
NGC891_P4     02:22:30.148 +42:21:33.66 2000
NGC891_P5     02:22:21.994 +42:18:15.29 2000
NGC891_P6     02:22:35.567 +42:24:04.38 2000
</pre></div>
</div>
<p>It is also a good idea to save all your ds9 regions so you can recal them
later as need. You&#8217;ve also generated a finding chart, which will be handy at
WIYN. See an example below:</p>
<div class="figure align-center" id="id2">
<a class="reference internal image-reference" href="_images/finding_chart.png"><img alt="example finding chart" src="_images/finding_chart.png" style="height: 500px;" /></a>
<p class="caption"><span class="caption-text">A finding chart from proposal 2014B-0456. I&#8217;ve labeled my six GradPak
pointings for easy identification. The barely visible blue circles are
the circles I used in step 3 above to find the location of the reference
fiber (here #105). The three check stars I used are also clearly marked.</span></p>
</div>
</div>
<div class="section" id="standard-stars">
<h3>Standard Stars<a class="headerlink" href="#standard-stars" title="Permalink to this headline">¶</a></h3>
<p>Unless you <em>really</em> know for sure that you don&#8217;t need standard stars you
should probably take some standard star observations each night. Your data
reduction will be much easier if you choose standard stars that are in the
IRAF database. This gives you two catalogs to choose from, the <a class="reference external" href="http://www-kpno.kpno.noao.edu/Info/Caches/Catalogs/IIDS/iids_catalog.html">IIDS Catalog</a>,
or <a class="reference external" href="http://www-kpno.kpno.noao.edu/Info/Caches/Catalogs/SpecPhot/specphot_catalog.html">Massey&#8217;s Spectrophotometric Standards</a>. Both are fine and there&#8217;s not a reason to favor one over the other.</p>
<p>You&#8217;ll want a few O or B stars for good flux calibration (because they don&#8217;t
have many spectral lines). The more you have the better your calibration will
be, but the less time you&#8217;ll spend getting data photons; the classic Astronomy
tradeoff. Brighter is better because the exposures take less time, but you&#8217;ll
probably be mostly limited by what stars are visible during your run. If at
all possible find some stars that are visible across most of the night (at
different airmasses) so you can try to get night-by-night extinction
curves. On my most recent proposal this was impossible, but maybe you&#8217;ll get
lucky.</p>
<p>If using a star from one of the catalogs mentioned the OA&#8217;s will have the
coordinates already. Still, I usually put the stars in my cache just for
completeness.</p>
</div>
<div class="section" id="airmass-charts">
<h3>Airmass Charts<a class="headerlink" href="#airmass-charts" title="Permalink to this headline">¶</a></h3>
<p>Airmass charts are crucial to planning out your nightly strategy; you&#8217;ll want
to observe each object when it&#8217;s at the lowest possible airmass (or at least
below 1.5). To generate these charts use <strong>mtools.airchart</strong>. The input file
has the same format as the cache (and could even be your cache file, although
that will probably clutter up the chart). You will also need to set the date
of the observation, but the default latitude and longitude are already set for
KPNO. Nice!</p>
<p>Below is an example airchart for 2014B-0456. Notice that I really needed to
jump on my two standard stars at the start of the night before moving to my
galaxy target. This is the kind of planning that only a good airmass chart can
provide.</p>
<div class="figure align-center" id="id3">
<a class="reference internal image-reference" href="_images/airchart.png"><img alt="example airmass chart" src="_images/airchart.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Airmass chart for December 20th, 2014. Based on this chart I spent from
19:00 to 20:00 observing my two standard stars (BD282411 and Feige 110)
before they got too low on the horizon. Fortunately right around this
time the galaxy NGC 891 was hitting its minimum airmass, which made for
some sweet observations. It would not have been worth observing NGC 891
past about 1:30, but my program was over by 0:00 so this wasn&#8217;t a
problem.</span></p>
</div>
</div>
<div class="section" id="exposure-times">
<h3>Exposure Times<a class="headerlink" href="#exposure-times" title="Permalink to this headline">¶</a></h3>
<p>Hopefully you figured this out when you wrote your proposal, but if you&#8217;re
like many WIYN astronomers you probably did a lot of handwaving. Now is the
time to stop waving your hands and crunch some numbers. Someday someone will
write a good recipe for computing accurate exposure times on the Bench
Spectrograph, but until then you&#8217;ll have to figure it out yourself. Steve
Crawford&#8217;s <a class="reference external" href="http://www.astro.wisc.edu/~crawford/Spectrograph/intro.html">bench simulator</a> is a good
starting point. It is out of date regarding detectors, but the grating
equation never goes out of style.</p>
<p>Of course, you&#8217;ll want to break up your exposure times into the smallest
chunks possible where you are still in the sky-limited noise regime. For a
setup with 2.1 AA per pixel this was around 30 min per exposure.</p>
</div>
<div class="section" id="ability-to-quick-reduce-data">
<h3>Ability to Quick Reduce Data<a class="headerlink" href="#ability-to-quick-reduce-data" title="Permalink to this headline">¶</a></h3>
<p>Finally, make sure you have read (and maybe even understand) the basic flow of
the <a class="reference internal" href="Data_Reduction.html"><span class="doc">Data Reduction</span></a> section. At the very least you should be able to do
a quick reduction of the previous night&#8217;s data before starting a new
night. This way you can identify any problems like bad pointings, short
exposure times, etc. while you still have a chance to fix them. It is often
enough just to get through the <strong>dohydra</strong> step; flux calibration can wait.</p>
</div>
</div>
<div class="section" id="calibrations">
<h2>Calibrations<a class="headerlink" href="#calibrations" title="Permalink to this headline">¶</a></h2>
<p>Calibration frames are almost more important than the actual data; without
them you entire run will be worthless. At the very least you need:</p>
<blockquote>
<div><p>Darks: 10 darks per scientific exposure time per night is a good number. It&#8217;s
OK if you can&#8217;t them every single night, but you should try to. Because the
exposure times are long, it&#8217;s common to run darks during the day while you&#8217;re
sleeping (set it up at the end of the night).</p>
<p>Zeros: Get a ton of these. Waiting for twilight? Grab some zeros! Showed up
before the OA? Grab some zeros! Get lots and lots of zeros.</p>
</div></blockquote>
<div class="section" id="flats">
<h3>Flats<a class="headerlink" href="#flats" title="Permalink to this headline">¶</a></h3>
<p>Getting proper flats with GradPak is different than other IFUs because the
multi-pitch nature of GradPak poses some unique light-collection
challenges. You may find that your spectrograph setup puts you in a position
where you can&#8217;t get enough signal in the smaller fibers without saturating the
large fibers:</p>
<div class="figure align-center" id="id4">
<a class="reference internal image-reference" href="_images/flat4s.png"><img alt="flat with overexposed large fibers" src="_images/flat4s.png" style="height: 500px;" /></a>
<p class="caption"><span class="caption-text">This flat has good signal in the smallest fiber (right side), but all of
the large fibers are totally saturated. Not good.</span></p>
</div>
<p>If this is the case then you&#8217;ll need to take multiple flat exposures to get
all fiber sizes with good signal. Deciding on what exposure times can be a
little tricky but as a generaly rule you want to always look at the brightest
part of the spectrum in the large fibers and the dimmest part of the spectrum
in the small fibers. To say it a different way, set your short exposure time
flats so that the large fibers are at the upper end of the linear regime in
the brightest part of the spectrum. Similarly, set your long exposure time
flats so that you get a good number of counts in the dimmest part of the
spectrum with the smallest fibers.</p>
<div class="figure align-center" id="id5">
<a class="reference internal image-reference" href="_images/flat1s.png"><img alt="flat with underexposed small fibers" src="_images/flat1s.png" style="height: 500px;" /></a>
<p class="caption"><span class="caption-text">This flat has good signal in the large fibers and does not saturate where
the last image did (above), but there is not enough signal in the small
fibers.</span></p>
</div>
<p>It is important to note that the non-linear regime is not the same as
saturating the detector; you encounter non-linearity before you saturate. This
threshold varies with gain and binning, but an easy way to check is divide two
flats with different exposure times. The resulting image should be constant
everywhere with the value of the ratio of the exposures times. In places where
there is structure you are in the non-linear regime.</p>
<p>In my limited experience it seems like the 2&#8221; and 3&#8221; fibers behave as the
&#8220;small&#8221; fibers and the 4&#8221;, 5&#8221;, and 6&#8221; fibers are the &#8220;large&#8221; fibers.</p>
<p>Having said all this, make sure you actually need multiple exposure times
before you go through the trouble. You might get lucky with your setup and be
able to get good signal in all fibers with a single exposure time. If so,
that&#8217;s awesome.</p>
<p>Get a statistically significant number of flats for each exposure time you
need. That means at least 10.</p>
</div>
</div>
<div class="section" id="id1">
<h2>Standard Stars<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Data Acquisition</a><ul>
<li><a class="reference internal" href="#pre-run-prep">Pre-run Prep</a><ul>
<li><a class="reference internal" href="#cache-pointings">Cache/Pointings</a></li>
<li><a class="reference internal" href="#standard-stars">Standard Stars</a></li>
<li><a class="reference internal" href="#airmass-charts">Airmass Charts</a></li>
<li><a class="reference internal" href="#exposure-times">Exposure Times</a></li>
<li><a class="reference internal" href="#ability-to-quick-reduce-data">Ability to Quick Reduce Data</a></li>
</ul>
</li>
<li><a class="reference internal" href="#calibrations">Calibrations</a><ul>
<li><a class="reference internal" href="#flats">Flats</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id1">Standard Stars</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">The Online GradPak Guide</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="Data_Reduction.html"
                        title="next chapter">Data Reduction</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="Data_Reduction.html" title="Data Reduction"
             >next</a></li>
        <li class="right" >
          <a href="index.html" title="The Online GradPak Guide"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">GradPak 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2016, Arthur Eigenbrot.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4a0+.
    </div>
  </body>
</html>